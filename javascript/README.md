JavaScript Documentation
========================

Hashcash
--------

The point of a Hashcash implementation is to prevent form spam. I'm not
sure what the benefit of spammers would be to use self-destructing notes,
but nonetheless, I'm not really interested in entertaining it.
Implementaning Hashcash as a proof-of-work system is simple enough to
deter most spammers. The breakdown is as follows:

* Server gets client IP address.
* Server generates nonce.
* IP address and nonce become the resource string.
* The resource string is embedded invisibly into the form.
* Client then mints a Hashcash token based on the resource string found.
* The client submits the form with the minted token.
* Server verifies if the token is valid.
    * If valid, the form submits.
    * If not valid, the user is notified submission failed.

A resource string with IP address "65.100.223.163", and nonce "VILymxxv"
generated by the server could look like this:

    65100223163VILymxxv

A minted Hashcash token generated by the client would then need to look
something like this:

    1:20:120715:65100223163vilymxxv::lVb6gfTxYb1Ir5SW:COBt

This is valid, because the SHA1 hash of the above token is:

    00000bed07757ed13f1f2cebc67b616c75812b41

which starts with 20-bits of leading zeros. The work is forced on the
client, which inserts the token into the form. Even on modern hardware,
this should be a strenuous task on the client CPU, and could take up to a
second or two to create a valid token string. However, the server can
verify the token quickly (in nanoseconds).

The minting of the token should be done in the background while the user is
typing the note in the form. Thus, when the submit button is pressed, no
additional waiting is needed.

More info can be found at http://hashcash.org.
